# HTTPS

## 引言

《图解HTTP》这本书中曾提过, HTTPS是身披SSL外壳的HTTP. 主要目的是提供对网站服务器的身份认证，同时保护交换数据的隐私与完整性。

> TLS是传输层加密协议，前身是SSL协议，由网景公司(Netscape)1995年发布，有些语境下两者可认为是一样的。
>
> 其中，SSL1.0-3.0因为存在的安全漏洞，基本上都弃用了，TLS1.0同样； 比较常用的是TLS1.1和1.2

如果有时间， 可以通过抓包观察HTTPS的传输， 

![https抓包](https://img-blog.csdn.net/20180719135629906?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3hpYW9taW5nMTAwMDAx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

可以看到数据不是明文传输，且具有如下特点：

1. 内容加密：采用混合加密技术，中间者无法直接查看明文内容
2. 验证身份：通过证书认证客户端访问的是自己的服务器
3. 保护数据完整性：防止传输的内容被中间人冒充或者篡改

## HTTP面临的问题

HTTPS要解决下面这些HTTP遇到的安全性问题 : 

1. 通信使用明文, 可能会被窃听

2. 不验证通信方的身份可能遭遇伪装

3. 无法证明报文的完整型，可能中途已遭篡改(中间人攻击)

#### 1.被窃听

​	解决思路: 使用对称加密算法，明文变密文

#### 2.被伪装

​	解决思路: 数字签名(数字摘要后， 私钥加密)

> 此处要注意，公钥的信任问题，因为公钥和公钥加密的text都是发送方传来的，可能这个时候公钥已经被篡改了，那text也很可能是用假的公钥加密的
>
> 所以引入了CA， 通信双方都存有被大家信任的、大公司的公钥，CA用其私钥加密我们自己的公钥，作为签名 追加到我们的text后面
>
> 消费方使用大公司的公钥即可解密，拿到安全的、真正的发送方的公钥                                            

#### 3.被篡改

​	解决思路: 数字摘要

